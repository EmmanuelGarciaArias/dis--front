"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[759],{8759:function(a,e,o){o.r(e),o.d(e,{default:function(){return s}});var t=function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("v-container",[o("v-data-table",{attrs:{headers:a.encabezado,items:a.orden,"items-per-page":5},scopedSlots:a._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:""}},[o("v-toolbar-title",[a._v("Orden")]),o("v-spacer"),o("v-btn",{attrs:{color:"accent"},on:{click:function(e){a.n1_dialog=!0}}},[a._v("Añadir Orden")])],1)]},proxy:!0},{key:"item.actions",fn:function(e){var t=e.item;return[o("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"error"},on:{click:function(e){return a.eliminar_orden(t)}}},[a._v(" fas fa-trash-alt ")]),o("v-icon",{staticClass:"mr-5",attrs:{small:""},on:{click:function(e){return a.agregar_plato(t)}}},[a._v(" fas fa-utensils ")]),o("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"green"},on:{click:function(e){return a.agregar_bebida(t)}}},[a._v(" fas fa-wine-bottle ")]),o("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"green"},on:{click:function(e){a.detalle_orden(t),a.detalle_orden_comida(t),a.detalle_orden_bebida(t),a.total_de_orden(t)}}},[a._v(" fas fa-eye ")])]}}],null,!0)}),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:a.n1_dialog,callback:function(e){a.n1_dialog=e},expression:"n1_dialog"}},[o("v-card",[o("v-card-title",[a._v("Nueva Orden")]),o("v-card-text",[o("v-container",[o("v-row",{attrs:{cols:"12"}},[o("v-select",{attrs:{items:a.mesa,label:"Mesa"},model:{value:a.nueva_orden.ord_mesa_id,callback:function(e){a.$set(a.nueva_orden,"ord_mesa_id",e)},expression:"nueva_orden.ord_mesa_id"}})],1),o("v-row",{attrs:{cols:"12"}},[o("v-select",{attrs:{items:a.mesero,label:"Mesero"},model:{value:a.nueva_orden.ord_mese_id,callback:function(e){a.$set(a.nueva_orden,"ord_mese_id",e)},expression:"nueva_orden.ord_mese_id"}})],1),o("v-row",[o("v-col",{attrs:{cols:"6"}},[o("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:a._u([{key:"activator",fn:function(e){var t=e.on,r=e.attrs;return[o("v-text-field",a._g(a._b({attrs:{label:"Fecha","prepend-icon":"far fa-calendar",readonly:""},model:{value:a.nueva_orden.ord_fecha,callback:function(e){a.$set(a.nueva_orden,"ord_fecha",e)},expression:"nueva_orden.ord_fecha"}},"v-text-field",r,!1),t))]}}]),model:{value:a.menu1,callback:function(e){a.menu1=e},expression:"menu1"}},[o("v-date-picker",{on:{input:function(e){a.menu1=!1}},model:{value:a.nueva_orden.ord_fecha,callback:function(e){a.$set(a.nueva_orden,"ord_fecha",e)},expression:"nueva_orden.ord_fecha"}})],1)],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"success"},on:{click:function(e){return a.guardar()}}},[a._v("Guardar")]),o("v-btn",{attrs:{color:"error"},on:{click:function(e){return a.cancelar()}}},[a._v("Cancelar")]),o("v-spacer")],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:a.comida_dialog,callback:function(e){a.comida_dialog=e},expression:"comida_dialog"}},[o("v-card",[o("v-card-title",[a._v(" AGREGAR PLATILLO "),o("v-spacer"),o("v-btn",{attrs:{color:"primary"},on:{click:function(e){return a.agregar_renglon_comida()}}},[a._v("Agregar Plato")])],1),o("v-card-text",[o("v-container",a._l(a.ali_ord,(function(e,t){return o("v-row",{key:t},[o("v-col",{attrs:{cols:"12"}},[o("v-select",{attrs:{items:a.platillos,label:"Nombre del plato"},model:{value:e.ali_menuco_id,callback:function(o){a.$set(e,"ali_menuco_id",o)},expression:"plato.ali_menuco_id"}})],1)],1)})),1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"success"},on:{click:function(e){return a.guardar_platillo()}}},[a._v("Guardar")]),o("v-btn",{attrs:{color:"error"},on:{click:function(e){return a.cancelar()}}},[a._v("Cancelar")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:a.bebida_dialog,callback:function(e){a.bebida_dialog=e},expression:"bebida_dialog"}},[o("v-card",[o("v-card-title",[a._v(" AGREGAR BEBIDA "),o("v-spacer"),o("v-btn",{attrs:{color:"primary"},on:{click:function(e){return a.agregar_renglon_bebida()}}},[a._v("Agregar Plato")])],1),o("v-card-text",[o("v-container",a._l(a.beb_ord,(function(e,t){return o("v-row",{key:t},[o("v-col",{attrs:{cols:"12"}},[o("v-select",{attrs:{items:a.bebidas,label:"Nombre del la bebida"},model:{value:e.beb_menube_id,callback:function(o){a.$set(e,"beb_menube_id",o)},expression:"bebida.beb_menube_id"}})],1)],1)})),1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"success"},on:{click:function(e){return a.guardar_bebida()}}},[a._v("Guardar")]),o("v-btn",{attrs:{color:"error"},on:{click:function(e){return a.cancelar()}}},[a._v("Cancelar")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:a.p_dialog,callback:function(e){a.p_dialog=e},expression:"p_dialog"}},[o("v-card",[o("v-card-title",[a._v(" Orden Completa ")]),o("v-card-text",[o("v-container",[a._l(a.ord_detail_food,(function(e,t){return o("row",{key:t},[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Comida",disabled:""},model:{value:e.ord_comida+" : "+e.ord_cantidad_platos+" >   $ "+e.precio_comida,callback:function(o){a.$set(e.ord_comida+" : "+e.ord_cantidad_platos+" >   $ "+e,"precio_comida",o)},expression:" orden.ord_comida + ' : ' + orden.ord_cantidad_platos + ' >  ' + ' $ '+ orden.precio_comida"}})],1)],1)})),a._l(a.ord_detail_drink,(function(e,t){return o("row",{key:t},[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Bebida",disabled:""},model:{value:e.ord_bebidas+" : "+e.ord_cantidad_bebidas+" >  $ "+e.precio_bebida,callback:function(o){a.$set(e.ord_bebidas+" : "+e.ord_cantidad_bebidas+" >  $ "+e,"precio_bebida",o)},expression:" orde.ord_bebidas + ' : ' + orde.ord_cantidad_bebidas + ' >  ' + '$ '+ orde.precio_bebida"}})],1)],1)})),a._l(a.total_orden,(function(e,t){return o("v-row",{key:t},[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Total",disabled:""},model:{value:"  $ "+e.total+" MXN + IVA",callback:function(o){a.$set("  $ "+e,"total + ' MXN + IVA'",o)},expression:"'  $ ' + orden.total + ' MXN + IVA'"}})],1)],1)}))],2)],1),o("v-card-actions")],1)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:a.factura_dialog,callback:function(e){a.factura_dialog=e},expression:"factura_dialog"}},[o("v-card",[o("v-card-title",[a._v(" FACTURA ")]),o("v-card-text",[o("v-container",[a._l(a.ord_detail_food,(function(e,t){return o("row",{key:t},[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Comida",disabled:""},model:{value:e.ord_comida+" : "+e.ord_cantidad_platos+" >   $ "+e.precio_comida,callback:function(o){a.$set(e.ord_comida+" : "+e.ord_cantidad_platos+" >   $ "+e,"precio_comida",o)},expression:" orden.ord_comida + ' : ' + orden.ord_cantidad_platos + ' >  ' + ' $ '+ orden.precio_comida"}})],1)],1)})),a._l(a.ord_detail_drink,(function(e,t){return o("row",{key:t},[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Bebida",disabled:""},model:{value:e.ord_bebidas+" : "+e.ord_cantidad_bebidas+" >  $ "+e.precio_bebida,callback:function(o){a.$set(e.ord_bebidas+" : "+e.ord_cantidad_bebidas+" >  $ "+e,"precio_bebida",o)},expression:" orde.ord_bebidas + ' : ' + orde.ord_cantidad_bebidas + ' >  ' + '$ '+ orde.precio_bebida"}})],1)],1)})),a._l(a.total_orden,(function(e,t){return o("v-row",{key:t},[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Total",disabled:""},model:{value:"  $ "+e.total+" MXN + IVA",callback:function(o){a.$set("  $ "+e,"total + ' MXN + IVA'",o)},expression:"'  $ ' + orden.total + ' MXN + IVA'"}})],1)],1)}))],2)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"success"},on:{click:function(e){return a.guardar_factura(a.item)}}},[a._v("Pagó")]),o("v-btn",{attrs:{color:"error"},on:{click:function(e){return a.cancelar()}}},[a._v("Esperar...")])],1)],1)],1)],1)},r=[],i={name:"orden",data(){return{encabezado:[{text:"Identificador",align:"start",sortable:!0,value:"ord_id"},{text:"Mesa",value:"ord_mesa_id"},{text:"Mesero",value:"ord_mese_nombre"},{text:"Fecha de Orden",value:"ord_fecha"},{text:"Pago",value:"ord_factura"},{text:"Acciones",value:"actions"}],orden:[],mesa:[],mesero:[],platillos:[],ali_ord:[],alimen_menuco_id:"",bebidas:[],beb_ord:[],bebi_menube_id:"",ord_detail_food:[],ord_detail_drink:[],total_orden:[],n1_dialog:!1,comida_dialog:!1,factura_dialog:!1,bebida_dialog:!1,p_dialog:!1,beb_dialog:!1,menu1:!1,nueva_orden:{ord_mesa_id:"",ord_mese_id:"",ord_fecha:""}}},created(){this.llenar_orden(),this.llenar_mesa_lista(),this.llenar_mesero_lista(),this.llenar_platillos_lista(),this.llenar_bebidas_lista()},methods:{async llenar_orden(){const a=await this.axios.get("/ordenes/mostrar_orden");this.orden=a.data},async eliminar_orden(a){const e={ord_id:a.ord_id};await this.axios.post("/ordenes/eliminar_orden/",e);this.llenar_orden()},cancelar(){this.nueva_orden={},this.n1_dialog=!1,this.ali_ord=[],this.comida_dialog=!1,this.factura_dialog=!1,this.beb_ord=[],this.bebida_dialog=!1},async guardar(){await this.axios.post("/ordenes/nueva_orden/",this.nueva_orden),this.llenar_orden(),this.cancelar()},async llenar_mesa_lista(){const a=await this.axios.get("/ordenes/mostrar_mesa");a.data.forEach((a=>{this.mesa.push({text:a.mesa_id+" "+a.mesa_localizacion+"( "+a.mesa_capacidad+" Personas)",value:a.mesa_id})}))},async llenar_mesero_lista(){const a=await this.axios.get("/mesero/todos_los_meseros");a.data.forEach((a=>{this.mesero.push({text:a.mese_nombre,value:a.mese_id})}))},async llenar_platillos_lista(){const a=await this.axios.get("/menu_comida/menu_de_comida");a.data.forEach((a=>{this.platillos.push({text:a.menuco_nombre,value:a.menuco_id})}))},async llenar_bebidas_lista(){const a=await this.axios.get("/menu_bebidas/menu_bebidas");a.data.forEach((a=>{this.bebidas.push({text:a.menube_nombre,value:a.menube_id})}))},agregar_plato(a){this.ali_ord_id=a.ord_id,this.comida_dialog=!0},agregar_bebida(a){this.beb_ord_id=a.ord_id,this.bebida_dialog=!0},agregar_renglon_comida(a){this.ali_ord.push({ali_menuco_id:""})},agregar_renglon_bebida(a){this.beb_ord.push({beb_menube_id:""})},async guardar_platillo(){const a={ali_ord_id:this.ali_ord_id,ali_menuco_id:""};this.ali_ord.forEach((async e=>{a.ali_menuco_id=e.ali_menuco_id,await this.axios.post("/ordenes/nuevo_ali_ord/",a)})),this.cancelar()},async guardar_bebida(){const a={beb_ord_id:this.beb_ord_id,beb_menube_id:""};this.beb_ord.forEach((async e=>{a.beb_menube_id=e.beb_menube_id,await this.axios.post("/ordenes/nuevo_beb_ord/",a)})),this.cancelar()},async detalle_orden(){this.p_dialog=!0},async detalle_orden_comida(a){const e=await this.axios.get("/ordenes/leer_detalles_comida/"+a.ord_id.toString());this.ord_detail_food=e.data},async detalle_orden_bebida(a){const e=await this.axios.get("/ordenes/leer_detalles_bebida/"+a.ord_id.toString());this.ord_detail_drink=e.data},async total_de_orden(a){const e=await this.axios.get("/ordenes/total_orden/"+a.ord_id.toString());this.total_orden=e.data}}},d=i,n=o(1001),l=(0,n.Z)(d,t,r,!1,null,null,null),s=l.exports}}]);
//# sourceMappingURL=759.a18a9bdf.js.map