"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[759],{38759:function(e,r,a){a.r(r),a.d(r,{default:function(){return l}});var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("v-container",[a("v-data-table",{attrs:{headers:e.encabezado,items:e.orden,"items-per-page":5},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Orden")]),a("v-spacer"),a("v-btn",{attrs:{color:"accent"},on:{click:function(r){e.n1_dialog=!0}}},[e._v("Añadir Orden")])],1)]},proxy:!0},{key:"item.actions",fn:function(r){var t=r.item;return[a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"error"},on:{click:function(r){return e.eliminar_orden(t)}}},[e._v(" fas fa-trash-alt ")]),a("v-icon",{staticClass:"mr-5",attrs:{small:""},on:{click:function(r){return e.agregar_plato(t)}}},[e._v(" fas fa-utensils ")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"green"},on:{click:function(r){return e.agregar_bebida(t)}}},[e._v(" fas fa-wine-bottle ")]),a("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"green"},on:{click:function(r){e.detalle_orden(t),e.detalle_orden_comida(t),e.detalle_orden_bebida(t),e.total_de_orden(t)}}},[e._v(" fas fa-eye ")])]}}],null,!0)}),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.n1_dialog,callback:function(r){e.n1_dialog=r},expression:"n1_dialog"}},[a("v-card",[a("v-card-title",[e._v("Nueva Orden")]),a("v-card-text",[a("v-container",[a("v-row",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.mesa,label:"Mesa"},model:{value:e.nueva_orden.ord_mesa_id,callback:function(r){e.$set(e.nueva_orden,"ord_mesa_id",r)},expression:"nueva_orden.ord_mesa_id"}})],1),a("v-row",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.mesero,label:"Mesero"},model:{value:e.nueva_orden.ord_mese_id,callback:function(r){e.$set(e.nueva_orden,"ord_mese_id",r)},expression:"nueva_orden.ord_mese_id"}})],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(r){var t=r.on,n=r.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Fecha","prepend-icon":"far fa-calendar",readonly:""},model:{value:e.nueva_orden.ord_fecha,callback:function(r){e.$set(e.nueva_orden,"ord_fecha",r)},expression:"nueva_orden.ord_fecha"}},"v-text-field",n,!1),t))]}}]),model:{value:e.menu1,callback:function(r){e.menu1=r},expression:"menu1"}},[a("v-date-picker",{on:{input:function(r){e.menu1=!1}},model:{value:e.nueva_orden.ord_fecha,callback:function(r){e.$set(e.nueva_orden,"ord_fecha",r)},expression:"nueva_orden.ord_fecha"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"success"},on:{click:function(r){return e.guardar()}}},[e._v("Guardar")]),a("v-btn",{attrs:{color:"error"},on:{click:function(r){return e.cancelar()}}},[e._v("Cancelar")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.comida_dialog,callback:function(r){e.comida_dialog=r},expression:"comida_dialog"}},[a("v-card",[a("v-card-title",[e._v(" AGREGAR PLATILLO "),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(r){return e.agregar_renglon_comida()}}},[e._v("Agregar Plato")])],1),a("v-card-text",[a("v-container",e._l(e.ali_ord,(function(r,t){return a("v-row",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.platillos,label:"Nombre del plato"},model:{value:r.ali_menuco_id,callback:function(a){e.$set(r,"ali_menuco_id",a)},expression:"plato.ali_menuco_id"}})],1)],1)})),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"success"},on:{click:function(r){return e.guardar_platillo()}}},[e._v("Guardar")]),a("v-btn",{attrs:{color:"error"},on:{click:function(r){return e.cancelar()}}},[e._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.bebida_dialog,callback:function(r){e.bebida_dialog=r},expression:"bebida_dialog"}},[a("v-card",[a("v-card-title",[e._v(" AGREGAR BEBIDA "),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(r){return e.agregar_renglon_bebida()}}},[e._v("Agregar Plato")])],1),a("v-card-text",[a("v-container",e._l(e.beb_ord,(function(r,t){return a("v-row",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.bebidas,label:"Nombre del la bebida"},model:{value:r.beb_menube_id,callback:function(a){e.$set(r,"beb_menube_id",a)},expression:"bebida.beb_menube_id"}})],1)],1)})),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"success"},on:{click:function(r){return e.guardar_bebida()}}},[e._v("Guardar")]),a("v-btn",{attrs:{color:"error"},on:{click:function(r){return e.cancelar()}}},[e._v("Cancelar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.p_dialog,callback:function(r){e.p_dialog=r},expression:"p_dialog"}},[a("v-card",[a("v-card-title",[e._v(" Orden Completa ")]),a("v-card-text",[a("v-container",[e._l(e.ord_detail_food,(function(r,t){return a("row",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Comida",disabled:""},model:{value:r.ord_comida+" : "+r.ord_cantidad_platos+" >   $ "+r.precio_comida,callback:function(a){e.$set(r.ord_comida+" : "+r.ord_cantidad_platos+" >   $ "+r,"precio_comida",a)},expression:" orden.ord_comida + ' : ' + orden.ord_cantidad_platos + ' >  ' + ' $ '+ orden.precio_comida"}})],1)],1)})),e._l(e.ord_detail_drink,(function(r,t){return a("row",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Bebida",disabled:""},model:{value:r.ord_bebidas+" : "+r.ord_cantidad_bebidas+" >  $ "+r.precio_bebida,callback:function(a){e.$set(r.ord_bebidas+" : "+r.ord_cantidad_bebidas+" >  $ "+r,"precio_bebida",a)},expression:" orde.ord_bebidas + ' : ' + orde.ord_cantidad_bebidas + ' >  ' + '$ '+ orde.precio_bebida"}})],1)],1)})),e._l(e.total_orden,(function(r,t){return a("v-row",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Total",disabled:""},model:{value:"  $ "+r.total+" MXN + IVA",callback:function(a){e.$set("  $ "+r,"total + ' MXN + IVA'",a)},expression:"'  $ ' + orden.total + ' MXN + IVA'"}})],1)],1)}))],2)],1),a("v-card-actions")],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.factura_dialog,callback:function(r){e.factura_dialog=r},expression:"factura_dialog"}},[a("v-card",[a("v-card-title",[e._v(" FACTURA ")]),a("v-card-text",[a("v-container",[e._l(e.ord_detail_food,(function(r,t){return a("row",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Comida",disabled:""},model:{value:r.ord_comida+" : "+r.ord_cantidad_platos+" >   $ "+r.precio_comida,callback:function(a){e.$set(r.ord_comida+" : "+r.ord_cantidad_platos+" >   $ "+r,"precio_comida",a)},expression:" orden.ord_comida + ' : ' + orden.ord_cantidad_platos + ' >  ' + ' $ '+ orden.precio_comida"}})],1)],1)})),e._l(e.ord_detail_drink,(function(r,t){return a("row",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Bebida",disabled:""},model:{value:r.ord_bebidas+" : "+r.ord_cantidad_bebidas+" >  $ "+r.precio_bebida,callback:function(a){e.$set(r.ord_bebidas+" : "+r.ord_cantidad_bebidas+" >  $ "+r,"precio_bebida",a)},expression:" orde.ord_bebidas + ' : ' + orde.ord_cantidad_bebidas + ' >  ' + '$ '+ orde.precio_bebida"}})],1)],1)})),e._l(e.total_orden,(function(r,t){return a("v-row",{key:t},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Total",disabled:""},model:{value:"  $ "+r.total+" MXN + IVA",callback:function(a){e.$set("  $ "+r,"total + ' MXN + IVA'",a)},expression:"'  $ ' + orden.total + ' MXN + IVA'"}})],1)],1)}))],2)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"success"},on:{click:function(r){return e.guardar_factura(e.item)}}},[e._v("Pagó")]),a("v-btn",{attrs:{color:"error"},on:{click:function(r){return e.cancelar()}}},[e._v("Esperar...")])],1)],1)],1)],1)},n=[],o=a(16198),i=(a(41539),a(54747),a(39714),a(78975),{name:"orden",data:function(){return{encabezado:[{text:"Identificador",align:"start",sortable:!0,value:"ord_id"},{text:"Mesa",value:"ord_mesa_id"},{text:"Mesero",value:"ord_mese_nombre"},{text:"Fecha de Orden",value:"ord_fecha"},{text:"Pago",value:"ord_factura"},{text:"Acciones",value:"actions"}],orden:[],mesa:[],mesero:[],platillos:[],ali_ord:[],alimen_menuco_id:"",bebidas:[],beb_ord:[],bebi_menube_id:"",ord_detail_food:[],ord_detail_drink:[],total_orden:[],n1_dialog:!1,comida_dialog:!1,factura_dialog:!1,bebida_dialog:!1,p_dialog:!1,beb_dialog:!1,menu1:!1,nueva_orden:{ord_mesa_id:"",ord_mese_id:"",ord_fecha:""}}},created:function(){this.llenar_orden(),this.llenar_mesa_lista(),this.llenar_mesero_lista(),this.llenar_platillos_lista(),this.llenar_bebidas_lista()},methods:{llenar_orden:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.axios.get("/ordenes/mostrar_orden");case 2:a=r.sent,e.orden=a.data;case 4:case"end":return r.stop()}}),r)})))()},eliminar_orden:function(e){var r=this;return(0,o.Z)(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t={ord_id:e.ord_id},a.next=3,r.axios.post("/ordenes/eliminar_orden/",t);case 3:a.sent,r.llenar_orden();case 5:case"end":return a.stop()}}),a)})))()},cancelar:function(){this.nueva_orden={},this.n1_dialog=!1,this.ali_ord=[],this.comida_dialog=!1,this.factura_dialog=!1,this.beb_ord=[],this.bebida_dialog=!1},guardar:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.axios.post("/ordenes/nueva_orden/",e.nueva_orden);case 2:e.llenar_orden(),e.cancelar();case 4:case"end":return r.stop()}}),r)})))()},llenar_mesa_lista:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.axios.get("/ordenes/mostrar_mesa");case 2:a=r.sent,a.data.forEach((function(r){e.mesa.push({text:r.mesa_id+" "+r.mesa_localizacion+"( "+r.mesa_capacidad+" Personas)",value:r.mesa_id})}));case 4:case"end":return r.stop()}}),r)})))()},llenar_mesero_lista:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.axios.get("/mesero/todos_los_meseros");case 2:a=r.sent,a.data.forEach((function(r){e.mesero.push({text:r.mese_nombre,value:r.mese_id})}));case 4:case"end":return r.stop()}}),r)})))()},llenar_platillos_lista:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.axios.get("/menu_comida/menu_de_comida");case 2:a=r.sent,a.data.forEach((function(r){e.platillos.push({text:r.menuco_nombre,value:r.menuco_id})}));case 4:case"end":return r.stop()}}),r)})))()},llenar_bebidas_lista:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.axios.get("/menu_bebidas/menu_bebidas");case 2:a=r.sent,a.data.forEach((function(r){e.bebidas.push({text:r.menube_nombre,value:r.menube_id})}));case 4:case"end":return r.stop()}}),r)})))()},agregar_plato:function(e){this.ali_ord_id=e.ord_id,this.comida_dialog=!0},agregar_bebida:function(e){this.beb_ord_id=e.ord_id,this.bebida_dialog=!0},agregar_renglon_comida:function(e){this.ali_ord.push({ali_menuco_id:""})},agregar_renglon_bebida:function(e){this.beb_ord.push({beb_menube_id:""})},guardar_platillo:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a={ali_ord_id:e.ali_ord_id,ali_menuco_id:""},e.ali_ord.forEach(function(){var r=(0,o.Z)(regeneratorRuntime.mark((function r(t){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.ali_menuco_id=t.ali_menuco_id,r.next=3,e.axios.post("/ordenes/nuevo_ali_ord/",a);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()),e.cancelar();case 3:case"end":return r.stop()}}),r)})))()},guardar_bebida:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a={beb_ord_id:e.beb_ord_id,beb_menube_id:""},e.beb_ord.forEach(function(){var r=(0,o.Z)(regeneratorRuntime.mark((function r(t){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.beb_menube_id=t.beb_menube_id,r.next=3,e.axios.post("/ordenes/nuevo_beb_ord/",a);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()),e.cancelar();case 3:case"end":return r.stop()}}),r)})))()},detalle_orden:function(){var e=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.p_dialog=!0;case 1:case"end":return r.stop()}}),r)})))()},detalle_orden_comida:function(e){var r=this;return(0,o.Z)(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,r.axios.get("/ordenes/leer_detalles_comida/"+e.ord_id.toString());case 2:t=a.sent,r.ord_detail_food=t.data;case 4:case"end":return a.stop()}}),a)})))()},detalle_orden_bebida:function(e){var r=this;return(0,o.Z)(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,r.axios.get("/ordenes/leer_detalles_bebida/"+e.ord_id.toString());case 2:t=a.sent,r.ord_detail_drink=t.data;case 4:case"end":return a.stop()}}),a)})))()},total_de_orden:function(e){var r=this;return(0,o.Z)(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,r.axios.get("/ordenes/total_orden/"+e.ord_id.toString());case 2:t=a.sent,r.total_orden=t.data;case 4:case"end":return a.stop()}}),a)})))()}}}),c=i,d=a(1001),s=(0,d.Z)(c,t,n,!1,null,null,null),l=s.exports},16198:function(e,r,a){a.d(r,{Z:function(){return n}});a(41539);function t(e,r,a,t,n,o,i){try{var c=e[o](i),d=c.value}catch(s){return void a(s)}c.done?r(d):Promise.resolve(d).then(t,n)}function n(e){return function(){var r=this,a=arguments;return new Promise((function(n,o){var i=e.apply(r,a);function c(e){t(i,n,o,c,d,"next",e)}function d(e){t(i,n,o,c,d,"throw",e)}c(void 0)}))}}}}]);
//# sourceMappingURL=759-legacy.5b84d227.js.map